{"version":3,"sources":["CSS_VERIFY.ts"],"names":["neat_csv_1","require","describe","it","__awaiter","cy","LoginAPI","then","visit","onBeforeLoad","window","localStorage","setItem","Cypress","env","get","eq","click","element","prodText","text","contains","type","each","$el","index","$list","trim","wrap","el","expect","toUpperCase","to","include","config","readFile","csvObj","_a","sent","console","log","csvProductName","equal"],"mappings":"y7CACA,IAAAA,WAAAC,QAAA,YAEAC,SAAS,aAAc,WACrBC,GAAG,8BAA+B,WAAA,OAAAC,eAAA,OAAA,OAAA,EAAA,4DAGhCC,GAAGC,WAAWC,KAAK,WACjBF,GAAGG,MAAM,wCAAyC,CAChDC,aAAc,SAAUC,GACtBA,EAAOC,aAAaC,QAAQ,QAASC,QAAQC,IAAI,eAIvDT,GAAGU,IAAI,kCAAkCC,GAAG,GAAGC,QAC/CZ,GAAGU,IAAI,gBACJC,GAAG,GACHT,KAAK,SAACW,GACLC,EAAWD,EAAQE,SAEvBf,GAAGU,IAAI,wCAAwCE,QAC/CZ,GAAGgB,SAAS,YAAYJ,QACxBZ,GAAGU,IAAI,uCAAuCO,KAAK,OACnDjB,GAAGU,IAAI,2BAA2BQ,KAAK,SAACC,EAAKC,EAAOC,GACxB,UAAtBF,EAAIJ,OAAOO,QACbtB,GAAGuB,KAAKJ,GAAKP,UAGjBZ,GAAGU,IAAI,mBAAmBE,QAC1BZ,GAAGU,IAAI,iBAAiBR,KAAK,SAAUsB,GACrCC,OAAOD,EAAGT,OAAOW,eAAeC,GAAGC,QAAQ,6BAE7C5B,GAAGgB,SAAS,0CAA0CJ,QACtDJ,QAAQqB,OAAO,oBACf7B,GAAG8B,SAAS,gDAAgD5B,KAC1D,SAAgBa,qHACD,MAAA,CAAA,EAAMpB,WAAA,QAAQoB,kBAAvBgB,EAASC,EAAAC,OACbC,QAAQC,IAAIJ,GACRK,EAAiBL,EAAO,GAAG,gBAC/BN,OAAOX,GAAUa,GAAGU,MAAMD","file":"CSS_VERIFY.min.js","sourcesContent":["/// <reference types=\"Cypress\" />\r\nimport neatCsv from \"neat-csv\";\r\n\r\ndescribe(\"Verify CSV\", () => {\r\n  it(\"Inject Token And Verify CSV\", async () => {\r\n    //Call the custom command LoginAPI() to get the token\r\n    var prodText;\r\n    cy.LoginAPI().then(function () {\r\n      cy.visit(\"https://rahulshettyacademy.com/client\", {\r\n        onBeforeLoad: function (window) {\r\n          window.localStorage.setItem(\"token\", Cypress.env(\"token\"));\r\n        },\r\n      });\r\n    });\r\n    cy.get(\".card-body button:last-of-type\").eq(0).click();\r\n    cy.get(\".card-body b\")\r\n      .eq(0)\r\n      .then((element) => {\r\n        prodText = element.text();\r\n      });\r\n    cy.get('button[routerlink=\"/dashboard/cart\"]').click();\r\n    cy.contains(\"Checkout\").click();\r\n    cy.get('input[placeholder=\"Select Country\"]').type(\"Ind\");\r\n    cy.get(\".ta-results button span\").each(($el, index, $list) => {\r\n      if ($el.text().trim() === \"India\") {\r\n        cy.wrap($el).click();\r\n      }\r\n    });\r\n    cy.get(\".action__submit\").click();\r\n    cy.get(\".hero-primary\").then(function (el) {\r\n      expect(el.text().toUpperCase()).to.include(\"THANKYOU FOR THE ORDER.\");\r\n    });\r\n    cy.contains(\"Click To Download Order Details in CSV\").click();\r\n    Cypress.config(\"fileServerFolder\");\r\n    cy.readFile(\"cypress/downloads/order-invoice_fagun.qa.csv\").then(\r\n      async function (text) {\r\n        var csvObj = await neatCsv(text);\r\n        console.log(csvObj);\r\n        var csvProductName = csvObj[0][\"Product Name\"];\r\n        expect(prodText).to.equal(csvProductName)\r\n      }\r\n    );\r\n  });\r\n});\r\n"]}