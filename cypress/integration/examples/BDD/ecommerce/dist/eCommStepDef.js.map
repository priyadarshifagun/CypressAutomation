{"version":3,"sources":["eCommStepDef.ts"],"names":[],"mappings":"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","file":"eCommStepDef.js","sourcesContent":["/// <reference types=\"Cypress\" />\r\n\r\nimport { Given, When, Then } from \"@badeball/cypress-cucumber-preprocessor\";\r\nimport HomePage from \"../../../pageObjects/HomePage\";\r\nimport ProductPage from \"../../../pageObjects/ProductPage\";\r\n\r\nGiven(\"I open ecommerce page\", function () {\r\n  cy.visit(`${Cypress.env(\"url\")}/angularpractice/`);\r\n});\r\n\r\nWhen(\"I add products to cart\", () => {\r\n  const productPage = new ProductPage();\r\n  let data;\r\n  cy.fixture(\"FormData.json\").then(function (fData) {\r\n    data = fData;\r\n    console.log(data)\r\n  });\r\n  productPage.getShopLink().click();\r\n  for (let value of data.productName) {\r\n    cy.addProductToCart(value); //Custom Command\r\n  }\r\n  productPage.getCheckOutTab().click();\r\n});\r\n\r\nWhen(\"I validate total price\", () => {\r\n  const productPage = new ProductPage();\r\n  let data;\r\n  let total: number = 0;\r\n  cy.get(\"table tr td:nth-child(4) strong\").each(($el, index, $list) => {\r\n    const amount = $el.text().replace(/[^a-zA-Z0-9]/g, \"\");\r\n    cy.log(amount);\r\n    total = total + Number(amount);\r\n    // let USDollar = new Intl.NumberFormat(\"en-IN\", {\r\n    //   style: \"currency\",\r\n    //   currency: \"INR\",\r\n    // });\r\n    // cy.log(USDollar.format(Number(amount)));\r\n  });\r\n  cy.get(\"h3 > strong\").then((totalText) => {\r\n    expect(totalText.text()).includes(total.toString());\r\n  });\r\n  productPage.getCheckOutButton().click();\r\n});\r\n\r\nThen(\"I place the order\", () => {\r\n  const productPage = new ProductPage();\r\n  productPage.getCountryDropDown().type(\"India\");\r\n  productPage.getDisplayedCountry().click();\r\n  productPage.getIAgreeCheckBox().check({ force: true });\r\n  productPage.getPurchaseButton().click();\r\n  productPage.getSuccessMessage().then((textMessage) => {\r\n    const message = textMessage.text();\r\n    expect(message.includes(\"Success!\")).to.be.true;\r\n  });\r\n});\r\n\r\nWhen(\"I fill the form\", () => {\r\n  const homePage = new HomePage();\r\n  homePage.getNameTextBox().type(data.name);\r\n  homePage.getTwoWayBindingEditBox().should(\"have.value\", data.name);\r\n  homePage.getNameTextBox().should(\"have.attr\", \"minlength\", \"2\");\r\n  homePage.getEmailTextBox().type(data.email);\r\n  homePage.getPasswordTextBox().type(data.password);\r\n  homePage.getCheckBox().check();\r\n});\r\n\r\nWhen(\"I verify forms behaviour\", () => {\r\n  const homePage = new HomePage();\r\n  homePage\r\n    .getGenderDropDown()\r\n    .select(data.gender)\r\n    .should(\"have.value\", data.gender);\r\n  homePage.getStudentRadioButton().click();\r\n  homePage.getEntrepreneurRadioButton().should(\"be.disabled\");\r\n  return true;\r\n});\r\n\r\nThen(\"I select the shop\", () => {\r\n  return true;\r\n});\r\n"]}